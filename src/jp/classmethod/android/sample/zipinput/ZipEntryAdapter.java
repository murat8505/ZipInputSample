package jp.classmethod.android.sample.zipinput;import java.util.List;import android.app.Service;import android.content.Context;import android.graphics.Bitmap;import android.graphics.BitmapFactory;import android.graphics.Rect;import android.graphics.drawable.BitmapDrawable;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.ArrayAdapter;import android.widget.TextView;public class ZipEntryAdapter extends ArrayAdapter<OpendZipEntry> {    private LayoutInflater mInflater;        public ZipEntryAdapter(Context context, List<OpendZipEntry> objects) {        super(context, R.layout.entry_list_item, objects);        mInflater = (LayoutInflater) getContext().getSystemService(Service.LAYOUT_INFLATER_SERVICE);    }        @Override    public View getView(int position, View convertView, ViewGroup parent) {                OpendZipEntry item = getItem(position);                TextView view = null;        if (convertView == null) {            view = (TextView) mInflater.inflate(R.layout.entry_list_item, parent, false);        } else {            view = (TextView) convertView;        }                view.setText(item.fileName);                // ファイルパスからBitmapを取得してセット        Bitmap bmp = BitmapFactory.decodeFile(item.filePath);        if (bmp != null) {            BitmapDrawable drawable = new BitmapDrawable(getContext().getResources(), bmp);            drawable.setBounds(new Rect(0, 0, bmp.getWidth(), bmp.getHeight()));            view.setCompoundDrawables(drawable, null, null, null);        }        return view;    }}